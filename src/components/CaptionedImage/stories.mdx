import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { withDesign } from 'storybook-addon-designs'
import { CaptionedImage, CaptionBelow, CaptionToggle } from '.'

export const ImageOnly = (args) => <CaptionedImage {...args} />

export const ImageCaptionBelow = ({ caption, ...args }) => (
  <CaptionedImage {...args}>
    <CaptionBelow {...{ caption }} />
  </CaptionedImage>
)

export const ImageCaptionToggle = ({ caption, ...args }) => (
  <CaptionedImage {...args}>
    <CaptionToggle {...{ caption }} />
  </CaptionedImage>
)

<Meta
  title="4 Components/All/CaptionedImage ðŸ†•"
  component={CaptionedImage}
  decorators={[
    withDesign,
    (Story) => (
      <div style={{ margin: '1rem' }}>
        <Story />
      </div>
    )
  ]}
  argTypes={{
    src: {
      description: 'A path to the image you want to embed',
      type: {
        required: true
      },
      control: 'text'
    },
    alt: {
      description: 'A detailed description of what can be seen in the image',
      control: 'text'
    },
    caption: {
      description: 'A brief description of what can be seen in the image',
      control: 'text'
    }
  }}
/>

# `<CaptionedImage />`
Create a lazy-loaded image with optional caption

### Image only

<Canvas>
  <Story
    name="Image Only"
    args={{
      src: 'https://dummyimage.com/420x266/ccc/999',
      alt: `A mid-grey placeholder image with dimensions 420 x 266 shown in dark-grey text. Â© British Film Institute ${(new Date()).getFullYear()}`
    }}
    parameters={{
      controls: {
        exclude: ['caption']
      }
    }}
  >
    {ImageOnly.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Image Only" />

### Image with caption below

<Canvas>
  <Story
    name="Image Caption Below"
    args={{
      src: 'https://dummyimage.com/420x266/ccc/999',
      alt: `A mid-grey placeholder image with dimensions 420 x 266 shown in dark-grey text. Â© British Film Institute ${(new Date()).getFullYear()}`,
      caption: `A placeholder image. <br /><cite>Â© British Film Institute ${(new Date()).getFullYear()}</cite>`
    }}
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/x4YrDV6w5cPvvSbxtIJwmk/Captions?node-id=0%3A1'
      }
    }}
  >
    {ImageCaptionBelow.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Image Caption Below" />

### Image with caption toggle

<Canvas>
  <Story
    name="Image Caption Toggle"
    args={{
      src: 'https://dummyimage.com/420x266/ccc/999',
      alt: `A mid-grey placeholder image with dimensions 420 x 266 shown in dark-grey text. Â© British Film Institute ${(new Date()).getFullYear()}`,
      caption: `A placeholder image. <br /><cite>Â© British Film Institute ${(new Date()).getFullYear()}</cite>`
    }}
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/x4YrDV6w5cPvvSbxtIJwmk/Captions?node-id=36%3A9'
      }
    }}
  >
    {ImageCaptionToggle.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Image Caption Toggle" />
