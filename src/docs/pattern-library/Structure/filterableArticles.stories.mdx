import { Meta, Story, ArgsTable, Canvas } from "@storybook/addon-docs"
import { FilterableArticles } from "../../../components/FilterableArticles/index"
import demoArticles from "../../../components/ArticleGrid/data"

<Meta title="2 Pattern Library/1 Structure/Filterable Articles" component={FilterableArticles} />

# Filterable Articles
 
This component combines the [FilterLinks](/?path=/docs/2-pattern-library-1-structure-filter-links--normal) component with the [ArticleGrid](/?path=/docs/2-pattern-library-4-slices-article-grid--multiple-articles-with-first-highlighted) slice in order for the BFI Web Frontent to create an infinite scrolling page of articles. 

Importantly there needs to be a function passed to this component called `loadMore` which will provide the functionality to load additional articles from the API.

## Props 

<ArgsTable of={FilterableArticles} />


## Examples

<Canvas>
    <Story name="All articles">
        <FilterableArticles
            articles={[...demoArticles, ...demoArticles, ...demoArticles.slice(0, 2)]}
            filters={[
                {
                    url: "/",
                    label: "All",
                    currentlyActive: true
                },
                {
                    url: "/",
                    label: "Review"
                },
                {
                    url: "/",
                    label: "Video"
                },
                {
                    url: "/",
                    label: "Opinion"
                },
                {
                    url: "/",
                    label: "Recommendations"
                },
                {
                    url: "/",
                    label: "Long Read"
                },
                {
                    url: "/",
                    label: "Interviews"
                }
            ]}
            loadMore={true}
            loadMoreLoading={true}
        />
    </Story>
</Canvas>

<Canvas>
    <Story name="Limited articles with filters">
        <FilterableArticles
            articles={demoArticles.slice(0,2)}
            filters={[
                {
                    url: "/",
                    label: "All",
                    currentlyActive: true
                },
                {
                    url: "/",
                    label: "Review"
                },
                {
                    url: "/",
                    label: "Video"
                },
                {
                    url: "/",
                    label: "Opinion"
                },
                {
                    url: "/",
                    label: "Recommendations"
                },
                {
                    url: "/",
                    label: "Long Read"
                },
                {
                    url: "/",
                    label: "Interviews"
                }
            ]}
            limit={3}
        />
    </Story>
</Canvas>

<Canvas>
    <Story name="Limited articles with grey background">
        <FilterableArticles
            articles={demoArticles.slice(0,3)}
            limit={3}
            filters={[]}
            includeHighlight={false}
            greyBackground
            optionalTitle="Other things to explore"
            optionalCTALink="/"
            optionalCTATitle="See more"
        />
    </Story>
</Canvas>

<Canvas>
    <Story name="No articles found">
        <FilterableArticles
            filters={[
                {
                    url: "/",
                    label: "All",
                    currentlyActive: true
                },
                {
                    url: "/",
                    label: "Review"
                },
                {
                    url: "/",
                    label: "Video"
                },
                {
                    url: "/",
                    label: "Opinion"
                },
                {
                    url: "/",
                    label: "Recommendations"
                },
                {
                    url: "/",
                    label: "Long Read"
                },
                {
                    url: "/",
                    label: "Interviews"
                }
            ]}
            loadMore={true}
        />
    </Story>
</Canvas>

<Canvas>
    <Story name="Loading">
        <FilterableArticles
            loading
            optionalTitle="Filtered articles"
            optionalCTALink="See all articles"
            optionalCTALink="/"
        />
    </Story>
</Canvas>

<Canvas>
    <Story name="Loading with limit">
        <FilterableArticles
            loading
            limit={3}
            optionalTitle="Filtered articles"
            optionalCTALink="See all articles"
            optionalCTALink="/"
        />
    </Story>
</Canvas>
